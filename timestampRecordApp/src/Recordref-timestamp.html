<!DOCTYPE html PUBLIC "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
  <meta http-equiv="Content-Type"
 content="text/html; charset=iso-8859-1">
  <meta name="GENERATOR"
 content="Mozilla/4.61 [en] (X11; U; SunOS 5.6 sun4u) [Netscape]">
  <title>Chapter ??: Timestamp</title>
<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
</head>
<body>
<center>
<h1>&nbsp;Timestamp&nbsp; Record</h1>
</center>
<ol>
  <li> <a href="#1.%20Introduction">Introduction and Distribution</a></li>
  <li> <a href="#2.%20Scan%20Parameters">Scan Parameters</a></li>
  <li> <a href="#3.%20Operator%20Display%20Parameters">Operator
Display
Parameters</a></li>
  <li> <a href="#4.%20Alarm%20Parameters">Alarm Parameters</a></li>
  <li> <a href="#5.%20Run-time%20Parameters">Run-time Parameters</a></li>
  <li> <a href="#6.%20Record%20Support%20Routines">Record Support
Routines</a></li>
  <br>
&nbsp;
</ol>
<h1>
<hr width="100%"></h1>
<h1>
<a name="1. Introduction"></a>1. Introduction and Distribution</h1>
The timestamp record takes its own EPICS timestamp and converts it,
using
a choice of formats, into a displayable ASCII string in its VAL field.
You can download the software by anonymous ftp at
ftp.slac.stanford.edu:
<a
 href="ftp://ftp.slac.stanford.edu/groups/controls/soft/epics/timestampRecord.tar">groups/controls/soft/epics/timestampRecord.tar</a>.
<p>The timestamp record fields fall into the following categories:
</p>
<p>&nbsp;scan parameters
<br>
&nbsp;operator display parameters
<br>
&nbsp;alarm parameters
<br>
&nbsp;run-time parameters
</p>
<p></p>
<hr width="100%">
<h1><a name="2. Scan Parameters"></a>2. Scan Parameters</h1>
The timestamp record has the standard fields for specifying under what
circumstances it will be processed. These fields are listed in <i><a
 href="Recordref-6.html#MARKER-9-2">Scan
Fields, Chapter 2, 2</a></i>. In addition, <i><a
 href="Recordref-5.html#MARKER-9-2">Scanning
Specification, Chapter 1, 1</a></i>, explains how these fields are
used.
<p></p>
<hr width="100%">
<h1><a name="3. Operator Display Parameters"></a>3. Operator Display
Parameters</h1>
See <a href="Recordref-6.html#MARKER-9-1">Chapter 2, <i>Fields Common
to
All Record Types</i></a>, for more on the record name (NAME) and
description
(DESC) fields.
<br>
&nbsp;
<br>
&nbsp;
<table border="1">
  <tbody>
    <tr>
      <th>Field</th>
      <th>Summary</th>
      <th>Type</th>
      <th>DCT</th>
      <th>Initial</th>
      <th>Access</th>
      <th>Modify</th>
      <th>Rec Proc Monitor</th>
      <th>PP</th>
    </tr>
    <tr>
      <td>NAME</td>
      <td>Record Name</td>
      <td>STRING [29]</td>
      <td>Yes</td>
      <td>Null</td>
      <td>Yes</td>
      <td>No</td>
      <td>No</td>
      <td>No</td>
    </tr>
    <tr>
      <td>DESC</td>
      <td>Description</td>
      <td>STRING [29]</td>
      <td>Yes</td>
      <td>Null</td>
      <td>Yes</td>
      <td>Yes</td>
      <td>No</td>
      <td>No</td>
    </tr>
    <tr>
      <td>TST</td>
      <td>Time Stamp Type</td>
      <td>RECCHOICE</td>
      <td>Yes</td>
      <td>YY/MM/DD HH:MM:SS</td>
      <td>Yes</td>
      <td>Yes</td>
      <td>No</td>
      <td>No</td>
    </tr>
  </tbody>
</table>
<p><i><a href="Recordref-44.html">Appendix A, Menu Choices</a></i>
provides
general information about RECHOICE. The following choices are currently
available for the time stamp type (TST) field:
<br>
&nbsp;
</p>
<h3>timestampTST</h3>
<pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; choice(timestampTST_YY_MM_DD_HH_MM_SS,"YY/MM/DD HH:MM:SS")<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; choice(timestampTST_MM_DD_YY_HH_MM_SS,"MM/DD/YY HH:MM:SS")<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; choice(timestampTST_MM_DD_HH_MM_SS_YY,"Mon DD HH:MM:SS YY")<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; choice(timestampTST_MM_DD_HH_MM_SS,"Mon DD HH:MM:SS")<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; choice(timestampTST_HH_MM_SS,"HH:MM:SS")<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; choice(timestampTST_HH_MM,"HH:MM")<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; choice(timestampTST_DD_MM_YY_HH_MM_SS,"DD/MM/YY HH:MM:SS")<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; choice(timestampTST_DD_MM_HH_MM_SS_YY,"DD Mon HH:MM:SS YY")<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; choice(timestampTST_VMS,"DD-Mon-YYYY HH:MM:SS")<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; choice(timestampTST_MM_DD_YYYY,"Mon DD, YYYY HH:MM:SS.ns")<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; choice(timestampTST_MM_DD_YY,"MM/DD/YY HH:MM:SS.ns")</pre>
<pre><hr width="100%"></pre>
<h1>
<a name="4. Alarm Parameters"></a>4. Alarm Parameters</h1>
The timestamp record has the alarm parameters common to all record
types.
<i><a href="Recordref-6.html#MARKER-9-3">Alarm Fields, Chapter 2, 3</a></i>,
lists other fields related to a alarms that are common to all record
types.
<p></p>
<hr width="100%">
<h1><a name="5. Run-time Parameters"></a>5. Run-time Parameters</h1>
These parameters are used by the application code to provide the
timestamp
to the operator interface. The VAL field holds the timestamp string.
<br>
&nbsp;
<br>
&nbsp;
<table border="1">
  <tbody>
    <tr>
      <th>Field</th>
      <th>Summary</th>
      <th>Type</th>
      <th>DCT</th>
      <th>Initial</th>
      <th>Access</th>
      <th>Modify</th>
      <th>Rec Proc Monitor</th>
      <th>PP</th>
    </tr>
    <tr>
      <td>VAL</td>
      <td>Value Field</td>
      <td>STRING [40]</td>
      <td>No</td>
      <td>Null</td>
      <td>Yes</td>
      <td>Yes</td>
      <td>Yes</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td>OVAL</td>
      <td>Old Value</td>
      <td>STRING [40]</td>
      <td>No</td>
      <td>Null</td>
      <td>Yes</td>
      <td>No</td>
      <td>&nbsp;</td>
      <td>&nbsp;Yes</td>
    </tr>
    <tr>
      <td style="vertical-align: top;">SEC<br>
      </td>
      <td style="vertical-align: top;">Raw Value in Seconds Field<br>
      </td>
      <td style="vertical-align: top;">ULONG<br>
      </td>
      <td style="vertical-align: top;">No<br>
      </td>
      <td style="vertical-align: top;">Null<br>
      </td>
      <td style="vertical-align: top;">Yes<br>
      </td>
      <td style="vertical-align: top;">Yes<br>
      </td>
      <td style="vertical-align: top;">Yes<br>
      </td>
      <td style="vertical-align: top;">Yes<br>
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top;">NSEC<br>
      </td>
      <td style="vertical-align: top;">Raw Value in Nanoseconds Field<br>
      </td>
      <td style="vertical-align: top;">ULONG<br>
      </td>
      <td style="vertical-align: top;">No<br>
      </td>
      <td style="vertical-align: top;">Null<br>
      </td>
      <td style="vertical-align: top;">Yes<br>
      </td>
      <td style="vertical-align: top;">Yes<br>
      </td>
      <td style="vertical-align: top;">Yes<br>
      </td>
      <td style="vertical-align: top;">Yes<br>
      </td>
    </tr>
  </tbody>
</table>
<p>
</p>
<hr width="100%">
<h1><a name="6. Record Support Routines"></a>6. Record Support Routines</h1>
<b><i><u>process</u></i></b>
<br>
Gets the current EPICS timestamp, translates it to a TS_DETAIL
structure
using tsStampToLocal, and formats the VAL string based on TST value.
Monitors
are invoked if VAL is different from OVAL. No alarm monitors are
invoked.
<p><b><i><u>get_value</u></i></b>
<br>
This function fills in the structure valueDes so that it refers to
VAL.
</p>
<p></p>
<hr>
<address>EPICS Record Reference Manual - 19 MAY 1998</address>
<p><br>
Generated with <a href="http://www.harlequin.com/webmaker">Harlequin
WebMaker</a>
<br>
&nbsp;
<br>
&nbsp;
</p>
</body>
</html>
